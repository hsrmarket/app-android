language: android
sudo: required
jdk: oraclejdk8
android:


before_install:
    - rm -rf $ANDROID_HOME/*
    - mkdir /usr/local/dl
    - wget https://dl.google.com/android/repository/tools_r25.2.3-linux.zip -O /usr/local/dl/sdk.zip
    - unzip /usr/local/dl/sdk.zip
    - mv /usr/local/dl/tools/* $ANDROID_HOME/

    - echo y | $ANDROID_HOME/bin/sdkmanager "build-tools;25.0.2"
    - echo y | $ANDROID_HOME/bin/sdkmanager "platforms;android-25"
    - echo y | $ANDROID_HOME/bin/sdkmanager "extras;m2repository;com;android;support;constraint;constraint-layout;1.0.2"
    - echo y | $ANDROID_HOME/bin/sdkmanager "extras;m2repository;com;android;support;constraint;constraint-layout-solver;1.0.2"


    - chmod +x gradlew
    - ./gradlew dependencies || true

script:
    - ./gradlew clean build connectedCheck --stacktrace

notifications:
  email: false
